import { Box, Text } from "ink";
import Gradient from "ink-gradient";
import { stdout } from "process";
import React, { useEffect, useState } from "react";

export const Logo: React.FC = () => {
  const [columns, setColumns] = useState<number>(stdout.columns ?? 80);
  const logo = columns >= 130 ? LOGO_LARGE : LOGO_SMALL;

  useEffect(() => {
    const handleResize = () => setColumns(stdout.columns ?? 80);
    stdout.on("resize", handleResize);

    return () => {
      stdout.off("resize", handleResize);
    };
  }, []);

  return (
    <Box justifyContent="center" marginBottom={5} marginTop={5}>
      <Gradient name="rainbow" key={logo}>
        <Text>{logo}</Text>
      </Gradient>
    </Box>
  );
};

// prettier-ignore
const LOGO_LARGE = `
     **********                                                                                                                  
   **************                                                                                                                
 ******************                                                                                                              
********************                                                                                                             
*********  *********                                                                                                             
*********  *********          ****                                                 ***********                                   
*********  *********          ****                                                 ***********                                   
   ******  *********          ****        *************    ****  ******   *******       ****    ******    *** **   ******        
 ********  *********          ****      *********** ****  **** ********** *******      ****   *********** ****** **********      
*********  ********           ****     ****    ****  ******** ***   ***** ****        ****   ****   ***** ****  ****    ****     
*********  ******             ****     ****    ****   ******* ********    ****      *****    *********    ***   ****    ****     
*********  *********          ********* ***********   ******   ********** ****     ********************** ***    **********  ****
*********  *********          *********  **********    ****     ********  ****     ***********  ********  ***      *******   ****
*********  *********                                 *****                                                                       
********************                                 ****                                                                        
 ******************                                                                                                              
  ****************                                                                                                               
     **********                                                                                                                  

`

// prettier-ignore
const LOGO_SMALL = `
     **********     
   **************   
 ****************** 
********************
*********  *********
*********  *********
*********  *********
   ******  *********
 ********  *********
*********  ******** 
*********  ******   
*********  *********
*********  *********
*********  *********
********************
 ****************** 
  ****************  
     **********     

`
